{% extends 'base.html' %} {% block content %}
<div class="row">
  <div class="col">
    <h1
      class="heading-tab row gap-5"
      style="background: {{badge.colour}}; box-shadow: {{badge.colour|adjust_colour(1.1)}} 0px 0px 5px 10px;"
    >
      <div class="badge-icon" style="background:{{badge.colour}};">
        <img src={{ url_for('get_image', filename=badge.image) }}/>
      </div>
      {{badge.name}}
    </h1>
  </div>
</div>
<div class="row">
  <div class="col d-flex flex-row-reverse">
    <div id="badge-details" class="card w-50" data-badge-id="{{badge.id}}">
      <ul class="list-group list-group-flush">
        <li class="list-group-item">Volume {{ badge.book }}</li>
        <li class="list-group-item">{{ badge.section }}</li>
        <li class="list-group-item">
          <select
            id="rating-select"
            class="form-select w-25"
            data-column-id="rating"
            data-rating="{{badge.rating}}"
          >
            <option value="None">None</option>
            <option value="✖️">✖️</option>
            <option value="🟢">🟢</option>
            <option value="🟡">🟡</option>
            <option value="🟠">🟠</option>
            <option value="🔴">🔴</option>
          </select>
        </li>
        <li class="list-group-item">
          <div class="form-check">
            <label>Badge complete?</label>
            <input class="form-check-input badge-checkbox" type="checkbox"
            id="flexCheckDefault" data-badge-id="{{badge.id}}" {{
            'checked="checked"' if badge.complete }} />
          </div>
          <span>{{ badge.complete }}</span><span>{{ badge.date }}</span>
        </li>
        <li class="list-group-item notes">
          <label>Notes</label>
          <textarea
            rows="4"
            cols="50"
            data-column-id="notes"
            data-element-id="{{badge.id}}"
          >
{{badge.notes}}</textarea
          >
        </li>
      </ul>
    </div>
  </div>
</div>
<div class="row pt-5">
  <table id="clause-table" class="table table-dark">
    {% for clause in clauses %}
    <tr>
      <td>
        <div class="form-check">
          <input class="form-check-input clause-checkbox" type="checkbox"
          id="flexCheckDefault" data-clause-id="{{clause.id}}" {{
          'checked="checked"' if clause.complete }} />
        </div>
      </td>
      <td>{{clause.description}}</td>
      <td>
        <input
          id="completeDate"
          class="form-control w-50"
          type="date"
          value="{{clause.date|date_format}}"
          data-clause-id="{{clause.id}}"
        />
      </td>
    </tr>
    {% endfor %}
  </table>
</div>
{% endblock %} {% block scripts %}
<script src="{{url_for('static', filename='js/badge.js')}}"></script>
{% endblock %}
